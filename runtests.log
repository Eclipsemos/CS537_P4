('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -o mkfs mkfs.c -Wall
gcc -o main main.c -Wall -L. -lmfs -g
ldd main
	linux-vdso.so.1 (0x00007ffecfdc8000)
	libmfs.so => ./libmfs.so (0x00007fcd3a999000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fcd3a754000)
	/lib64/ld-linux-x86-64.so.2 (0x00007fcd3a9a5000)


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6367
/tmp/tmpBwv4yS/p/server 6367 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8854
/tmp/tmpBwv4yS/p/server 8854 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8939
/tmp/tmpBwv4yS/p/server 8939 /home/richie/private/COMPSCI537/P4/test.img
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc1\xec\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
Failure: Corrupt data returned by read


test write FAILED
 (write then read one block)
 Corrupt data returned by read

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6613
/tmp/tmpBwv4yS/p/server 6613 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test stat PASSED
 (stat a regular file)

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5934
/tmp/tmpBwv4yS/p/server 5934 /home/richie/private/COMPSCI537/P4/test.img
Failure: Corrupt data returned by read


test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5174
/tmp/tmpBwv4yS/p/server 5174 /home/richie/private/COMPSCI537/P4/test.img
Failure: Corrupt data returned by read


test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6178
/tmp/tmpBwv4yS/p/server 6178 /home/richie/private/COMPSCI537/P4/test.img
31
write more than need
Failure: Corrupt data returned by read


test maxfile2 FAILED
 (write more blocks than possible)
 Corrupt data returned by read

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7988
/tmp/tmpBwv4yS/p/server 7988 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9335
/tmp/tmpBwv4yS/p/server 9335 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test dir2 PASSED
 (create a new directory and check it)

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9451
/tmp/tmpBwv4yS/p/server 9451 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test baddir PASSED
 (try to create a file with a file parent inode)

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7827
/tmp/tmpBwv4yS/p/server 7827 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test baddir2 PASSED
 (try to lookup a file with a file parent inode)

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7338
/tmp/tmpBwv4yS/p/server 7338 /home/richie/private/COMPSCI537/P4/test.img
Failure: MFS_Unlink returned failure pinum=0 name='test'


test unlink FAILED
 (unlink a file)
 MFS_Unlink returned failure pinum=0 name='test'

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7802
/tmp/tmpBwv4yS/p/server 7802 /home/richie/private/COMPSCI537/P4/test.img
Failure: MFS_Unlink returned failure pinum=0 name='test'


test unlink2 FAILED
 (unlink a directory)
 MFS_Unlink returned failure pinum=0 name='test'

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5279
/tmp/tmpBwv4yS/p/server 5279 /home/richie/private/COMPSCI537/P4/test.img
Failure: MFS_Unlink returned failure pinum=1 name='testfile'


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink returned failure pinum=1 name='testfile'

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5297
/tmp/tmpBwv4yS/p/server 5297 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8392
/tmp/tmpBwv4yS/p/server 8392 /home/richie/private/COMPSCI537/P4/test.img
Failure: Corrupt data returned by read


test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8789
/tmp/tmpBwv4yS/p/server 8789 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 4]
 data region address 7 [len 32]
 num inodes: 128 ;num data: [len 32]


test bigdir PASSED
 (create a directory with 126 files)

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5285
/tmp/tmpBwv4yS/p/server 5285 /home/richie/private/COMPSCI537/P4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 4]
 data region address 7 [len 32]
 num inodes: 128 ;num data: [len 32]


test deep PASSED
 (create many deeply nested directories)

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write FAILED
 (write then read one block)
 Corrupt data returned by read

test stat PASSED
 (stat a regular file)

test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

test maxfile2 FAILED
 (write more blocks than possible)
 Corrupt data returned by read

test dir1 PASSED
 (check root for dot entries)

test dir2 PASSED
 (create a new directory and check it)

test baddir PASSED
 (try to create a file with a file parent inode)

test baddir2 PASSED
 (try to lookup a file with a file parent inode)

test unlink FAILED
 (unlink a file)
 MFS_Unlink returned failure pinum=0 name='test'

test unlink2 FAILED
 (unlink a directory)
 MFS_Unlink returned failure pinum=0 name='test'

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink returned failure pinum=1 name='testfile'

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

test bigdir PASSED
 (create a directory with 126 files)

test deep PASSED
 (create many deeply nested directories)

Passed 11 of 19 tests.
Overall 11 of 19
