('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -o mkfs mkfs.c -Wall
gcc -o main main.c -Wall -L. -lmfs -g
main.c: In function ‘main’:
main.c:23:22: warning: format ‘%d’ expects argument of type ‘int’, but argument 2 has type ‘size_t’ {aka ‘long unsigned int’} [-Wformat=]
   23 |     printf("Length: %d  SIZE: %d\n", strlen(buffer),MFS_BLOCK_SIZE);
      |                     ~^               ~~~~~~~~~~~~~~
      |                      |               |
      |                      int             size_t {aka long unsigned int}
      |                     %ld
./mkfs -f test.img
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
ldd main
	linux-vdso.so.1 (0x00007ffed3b20000)
	libmfs.so => ./libmfs.so (0x00007f2626648000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f2626403000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f2626654000)


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9570
/tmp/tmpzGd0gT/p/server 9570 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6232
/tmp/tmpzGd0gT/p/server 6232 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7119
/tmp/tmpzGd0gT/p/server 7119 /home/xinyun/private/cs537/p4/CS537_P4/test.img
curr_block:0
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')


test write PASSED
 (write then read one block)

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8614
/tmp/tmpzGd0gT/p/server 8614 /home/xinyun/private/cs537/p4/CS537_P4/test.img
curr_block:0


test stat PASSED
 (stat a regular file)

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7729
/tmp/tmpzGd0gT/p/server 7729 /home/xinyun/private/cs537/p4/CS537_P4/test.img
curr_block:0
curr_block:0


test overwrite PASSED
 (overwrite a block)

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7058
/tmp/tmpzGd0gT/p/server 7058 /home/xinyun/private/cs537/p4/CS537_P4/test.img
curr_block:0
curr_block:1
curr_block:2
curr_block:3
curr_block:4
curr_block:5
curr_block:6
curr_block:7
curr_block:8
curr_block:9
curr_block:10
curr_block:11
curr_block:12
curr_block:13
curr_block:14
curr_block:15
curr_block:16
curr_block:17
curr_block:18
curr_block:19
curr_block:20
curr_block:21
curr_block:22
curr_block:23
curr_block:24
curr_block:25
curr_block:26
curr_block:27
curr_block:28
curr_block:29


test maxfile PASSED
 (write largest possible file)

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9018
/tmp/tmpzGd0gT/p/server 9018 /home/xinyun/private/cs537/p4/CS537_P4/test.img
curr_block:0
curr_block:1
curr_block:2
curr_block:3
curr_block:4
curr_block:5
curr_block:6
curr_block:7
curr_block:8
curr_block:9
curr_block:10
curr_block:11
curr_block:12
curr_block:13
curr_block:14
curr_block:15
curr_block:16
curr_block:17
curr_block:18
curr_block:19
curr_block:20
curr_block:21
curr_block:22
curr_block:23
curr_block:24
curr_block:25
curr_block:26
curr_block:27
curr_block:28
curr_block:29
31
write more than need


test maxfile2 PASSED
 (write more blocks than possible)

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8330
/tmp/tmpzGd0gT/p/server 8330 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8448
/tmp/tmpzGd0gT/p/server 8448 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test dir2 PASSED
 (create a new directory and check it)

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7285
/tmp/tmpzGd0gT/p/server 7285 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test baddir PASSED
 (try to create a file with a file parent inode)

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6604
/tmp/tmpzGd0gT/p/server 6604 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test baddir2 PASSED
 (try to lookup a file with a file parent inode)

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8627
/tmp/tmpzGd0gT/p/server 8627 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test unlink FAILED
 (unlink a file)
 Timelimit (10.0s) exceeded

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
client:: MFS_Stat READ failed; libmfs.c
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5656
/tmp/tmpzGd0gT/p/server 5656 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test unlink2 FAILED
 (unlink a directory)
 Timelimit (10.0s) exceeded

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
client:: MFS_Stat READ failed; libmfs.c
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8128
/tmp/tmpzGd0gT/p/server 8128 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test empty FAILED
 (unlink a non-empty directory)
 Timelimit (10.0s) exceeded

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
client:: MFS_Stat READ failed; libmfs.c
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6133
/tmp/tmpzGd0gT/p/server 6133 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7729
/tmp/tmpzGd0gT/p/server 7729 /home/xinyun/private/cs537/p4/CS537_P4/test.img
curr_block:0
Starting server on port 7729
/tmp/tmpzGd0gT/p/server 7729 /home/xinyun/private/cs537/p4/CS537_P4/test.img
Failure: Wrong inum


test persist FAILED
 (restart server after creating a file)
 Wrong inum

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7828
/tmp/tmpzGd0gT/p/server 7828 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test bigdir FAILED
 (create a directory with 126 files)
 Timelimit (180.0s) exceeded

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8494
/tmp/tmpzGd0gT/p/server 8494 /home/xinyun/private/cs537/p4/CS537_P4/test.img


test deep PASSED
 (create many deeply nested directories)

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write PASSED
 (write then read one block)

test stat PASSED
 (stat a regular file)

test overwrite PASSED
 (overwrite a block)

test maxfile PASSED
 (write largest possible file)

test maxfile2 PASSED
 (write more blocks than possible)

test dir1 PASSED
 (check root for dot entries)

test dir2 PASSED
 (create a new directory and check it)

test baddir PASSED
 (try to create a file with a file parent inode)

test baddir2 PASSED
 (try to lookup a file with a file parent inode)

test unlink FAILED
 (unlink a file)
 Timelimit (10.0s) exceeded

test unlink2 FAILED
 (unlink a directory)
 Timelimit (10.0s) exceeded

test empty FAILED
 (unlink a non-empty directory)
 Timelimit (10.0s) exceeded

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 Wrong inum

test bigdir FAILED
 (create a directory with 126 files)
 Timelimit (180.0s) exceeded

test deep PASSED
 (create many deeply nested directories)

Passed 14 of 19 tests.
Overall 14 of 19
